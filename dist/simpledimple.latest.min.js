!function(a,b){"use strict";if("object"==typeof exports)module.exports=b(require("d3"),require("dimple"));else if("function"==typeof define&&define.amd)define(["d3","dimple"],function(c,d){return a.simpledimple=b(c,d),a.simpledimple});else if(a.d3)if(a.dimple)a.simpledimple=b(a.d3,a.dimple);else{if(!console||!console.warn)throw"simpledimple requires dimple to run.  Are you missing a reference to the dimple library?";console.warn("simpledimple requires dimple to run.  Are you missing a reference to the dimple library?")}else{if(!console||!console.warn)throw"simpledimple requires d3 to run.  Are you missing a reference to the d3 library?";console.warn("simpledimple requires d3 to run.  Are you missing a reference to the d3 library?")}}(this,function(a,b){"use strict";var c={version:"1.0.0"};return c.chart=function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;if(q=function(a,b,c,d){return function(e){a(e,b,c,d)}},this.addAxis=function(b){var c,d,e,f,g,h=b.position||null,i=b.categoryFields||null,j=b.measure||null,k=b.timeField||null,l=b.inputFormat||null,m=b.outputFormat||null,n={seconds:a.time.seconds,minutes:a.time.minutes,hours:a.time.hours,days:a.time.days,weeks:a.time.weeks,sundays:a.time.sundays,mondays:a.time.mondays,tuesdays:a.time.tuesdays,wednesdays:a.time.wednesdays,thursdays:a.time.thursdays,fridays:a.time.fridays,saturdays:a.time.saturdays,months:a.time.months,years:a.time.years};if(e=function(a){var b;return!isNaN(a)&&(b=parseFloat(a),(0|b)===b)},e(h)&&(h=this.chart.axes[h]),f=k?this.chart.addTimeAxis(h,k,l,m):"c"===b.position&&b.colors?this.chart.addColorAxis(j,b.colors):this.chart.addAxis(h,i,j,null),void 0!==b.floatingBarWidth&&(f.floatingBarWidth=b.floatingBarWidth),void 0!==b.hidden&&(f.hidden=b.hidden),void 0!==b.showPercent&&(f.showPercent=b.showPercent),void 0!==b.colors&&(f.colors=b.colors),void 0!==b.overrideMin&&(void 0!==b.timeField?f.overrideMin=new Date(b.overrideMin):f.overrideMin=b.overrideMin),void 0!==b.overrideMax&&(void 0!==b.timeField?f.overrideMax=new Date(b.overrideMax):f.overrideMax=b.overrideMax),void 0!==b.showGridlines&&(f.showGridlines=b.showGridlines),void 0!==b.dateParseFormat&&(f.dateParseFormat=b.dateParseFormat),void 0!==b.tickFormat&&(f.tickFormat=b.tickFormat),void 0!==b.timePeriod&&(f.timePeriod=n[b.timePeriod]),void 0!==b.timeInterval&&(f.timeInterval=b.timeInterval),void 0!==b.useLog&&(f.useLog=b.useLog),void 0!==b.logBase&&(f.logBase=b.logBase),void 0!==b.title&&(f.title=b.title),void 0!==b.clamp&&(f.clamp=b.clamp),void 0!==b.ticks&&(f.ticks=b.ticks),void 0!==b.fontSize&&(f.fontSize=b.fontSize),void 0!==b.fontFamily&&(f.fontFamily=b.fontFamily),void 0!==b.autoRotateLabel&&(f.floatingBarWidth=b.floatingBarWidth),void 0!==b.groupOrderRules)for(d=b.groupOrderRules.length,c=0;c<d;c++)g=b.groupOrderRules[c],f.addGroupOrderRule(g.ordering,g.desc);if(void 0!==b.orderRules)for(d=b.orderRules.length,c=0;c<d;c++)g=b.orderRules[c],f.addOrderRule(g.ordering,g.desc);return f},this.addLegend=function(a){var b,c,d,e,f;for(d=a.series,c=d?d.length:0,e=c?[]:null,b=0;b<c;b++)e.push(k[d[b]]);return f=this.chart.addLegend(a.x,a.y,a.width,a.height,a.horizontalAlign,e),void 0!==a.fontSize&&(f.fontSize=a.fontSize),void 0!==a.fontFamily&&(f.fontFamily=a.fontFamily),f},this.addSeries=function(a){var c,d,e,f,g,h,i,j=a.categoryFields||null,k={area:b.plot.area,bar:b.plot.bar,bubble:b.plot.bubble,line:b.plot.line,pie:b.plot.pie},l={avg:b.aggregateMethod.avg,count:b.aggregateMethod.count,max:b.aggregateMethod.max,min:b.aggregateMethod.min,sum:b.aggregateMethod.sum};if(a.axes&&a.axes.length)for(f=[],d=a.axes.length,c=0;c<d;c++)f.push(this.axes[a.axes[c]]);else f=null;if(e=this.chart.addSeries(j,k[a.plot],f),void 0!==a.x&&(e.x=this.axes[a.x]),void 0!==a.y&&(e.y=this.axes[a.y]),void 0!==a.z&&(e.z=this.axes[a.z]),void 0!==a.c&&(e.c=this.axes[a.c]),void 0!==a.p&&(e.p=this.axes[a.p]),void 0!==a.plot&&(e.plot=k[a.plot]),void 0!==a.aggregate&&(e.aggregate=l[a.aggregate]),void 0!==a.stacked&&(e.stacked=a.stacked),void 0!==a.barGap&&(e.barGap=a.barGap),void 0!==a.clusterBarGap&&(e.clusterBarGap=a.clusterBarGap),void 0!==a.lineWeight&&(e.lineWeight=a.lineWeight),void 0!==a.lineMarkers&&(e.lineMarkers=a.lineMarkers),void 0!==a.afterDraw&&(i=new Function("shape","shapeData","chart","data","userData",a.afterDraw),e.afterDraw=function(a,b){i(a,b,this.chart,this.data,this.userData)}),void 0!==a.interpolation&&(e.interpolation=a.interpolation),void 0!==a.tooltipFontSize&&(e.tooltipFontSize=a.tooltipFontSize),void 0!==a.tooltipFontFamily&&(e.tooltipFontFamily=a.tooltipFontFamily),void 0!==a.radius&&(e.radius=a.radius),void 0!==a.innerRadius&&(e.innerRadius=a.innerRadius),void 0!==a.outerRadius&&(e.outerRadius=a.outerRadius),void 0!==a.orderRules)for(d=a.orderRules.length,c=0;c<d;c++)g=a.orderRules[c],e.addOrderRule(g.ordering,g.desc);if(void 0!==a.eventHandlers)for(d=a.eventHandlers.length,c=0;c<d;c++)h=new Function("e","chart","data","userData",a.eventHandlers[c].handler),e.addEventHandler(a.eventHandlers[c].event,q(h,this.chart,this.data,this.userData));return e},this.draw=function(a,b){return this.chart.draw(a,b),this.afterDraw&&this.afterDraw(this),this},this.setStoryboard=function(a){var b,c;return void 0!==a.onTick&&(b=new Function("e",a.onTick)),c=this.chart.setStoryboard(a.categoryFields,b),void 0!==a.autoplay&&(c.autoplay=a.autoplay),void 0!==a.frameDuration&&(c.frameDuration=a.frameDuration),void 0!==a.storyLabel&&(c.storyLabel=a.storyLabel),void 0!==a.fontSize&&(c.fontSize=a.fontSize),void 0!==a.fontFamily&&(c.fontFamily=a.fontFamily),c},this.userData={},this.svg=b.newSvg(c,d.width,d.height),this.chart=new b.chart(this.svg,e),f=d.bounds,f&&this.chart.setBounds(f.x,f.y,f.width,f.height),this.data=e,g=d.noFormats,null!==g&&void 0!==g&&(this.chart.noFormats=g),this.axes=[],d.axes&&d.axes.length)for(i=d.axes.length,h=0;h<i;h++)j=this.addAxis(d.axes[h]),this.axes.push(j);if(this.series=[],d.series&&d.series.length)for(i=d.series.length,h=0;h<i;h++)k=this.addSeries(d.series[h]),this.series.push(k);if(this.legends=[],d.legends&&d.legends.length)for(i=d.legends.length,h=0;h<i;h++)l=this.addLegend(d.legends[h]),this.legends.push(l);if(d.storyboard&&(this.storyboard=this.setStoryboard(d.storyboard)),void 0!==d.ease&&(this.chart.ease=d.ease),void 0!==d.staggerDraw&&(this.chart.staggerDraw=d.staggerDraw),void 0!==d.classes)for(i=d.classes.length,h=0;h<i;h++)m=d.classes[h],this.chart.assignClass(m.tag,m.css);if(void 0!==d.defaultColors){for(i=d.defaultColors.length,n=[],h=0;h<i;h++)o=d.defaultColors[h],n.push(new b.color(o.fill,o.stroke,o.opacity));this.chart.defaultColors=n}if(void 0!==d.customClassList&&(this.chart.customClassList=d.customClassList),p=d.margins,void 0!==p&&this.chart.setMargins(p.x,p.y,p.width,p.height),void 0!==d.assignedColors){for(i=d.assignedColors.length,n={},h=0;h<i;h++)o=d.assignedColors[h],n[o.tag]=this.chart.assignColor(o.tag,o.fill,o.stroke,o.opacity);this.chart.assignedColors=n}void 0!==d.afterDraw&&(this.afterDraw=new Function("simpledimple",d.afterDraw))},c});